#!/bin/sh

if [ $# -eq 0 ] ; then
  set -- "Tags"
fi

module="$1"

# Translate rpm's rpmtags.h tag #define's into something usable as ruby constants.
echo "# This file is automatically generated by the command:"
echo "# > $0 $module"
echo 
echo "module $module"
curl -L -so- https://github.com/rpm-software-management/rpm/raw/refs/heads/rpm-4.20.x/include/rpm/rpmtag.h \
  | cc -E -o - - \
  | grep '^ *RPMTAG.*= ' | sed -e 's/RPMTAG_//g; s/,$//' 2> /dev/null
echo "end"
